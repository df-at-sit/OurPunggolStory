<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Our Punggol Story</title>
    <meta name="description"
        content="Learn about Our Punggol Story, a mural in Singapore's Punggol Digital District." />
    <meta name="theme-color" content="#2a9df4" />
    <link rel="icon" href="assets/favicon.ico" sizes="any" />

    <!-- model-viewer for AR -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>

    <style>
        /* ---------------------------------------
       0) TOKENS, FONT & RESET
    --------------------------------------- */
        @font-face {
            font-family: "PPMori";
            src: url("fonts/PPMori-SemiBold.otf") format("opentype");
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: "PPMori";
            src: url("fonts/PPMori-SemiBold.otf") format("opentype");
            font-weight: 600;
            font-style: normal;
            font-display: swap;
        }

        @font-face {
            font-family: "PPMori Light";
            src: url("fonts/PPMori-Extralight.otf") format("opentype");
            font-weight: 200;
            font-style: normal;
            font-display: swap;
        }



        :root {
            --bg: #ffffff;
            --ink: #101828;
            --muted: #667085;

            --brand: #104D95;
            /* hero (blue) */
            --accent: #F89E50;
            /* create-ar (orange/yellow) */
            --orange: #5D8EBA;
            /* artists (blue-ish) */
            --magenta: #E83C26;
            /* about (red/magenta) */
            --green: #E9B8C4;
            /* visit (soft green/pink) */
            --red: #F59F48;
            /* involved (orange) */

            --card: #f6f9fe;
            --border: #dce8f5;
            --shadow: 0 10px 30px rgba(16, 24, 40, .12);
            --radius: 40px;
            --radius-sm: 30px;
            --gap: clamp(12px, 2.5vw, 20px);
            --pad: clamp(16px, 3.5vw, 28px);
            --pad-inline: var(--pad);
            --mobile-pad-scale: 1.2;
            --pad-lg: clamp(24px, 5vw, 56px);
            --maxw: 1120px;
            --header-h: 64px;
            --wave-h: clamp(54px, 9vw, 140px);
            /* unified wave height */

            --section-top-extra: clamp(6px, 0.1vw, 6px);
            /* smaller than before */
            --section-bottom-extra: clamp(32px, 6vw, 96px);
            /* bigger than before */
            --mobile-p: 12.5px;
        }

        @media (max-width:820px) {
            :root {
                --header-h: 56px;
            }
        }

        @media (max-width:600px) {
            :root {
                --pad-inline: calc(var(--pad) * var(--mobile-pad-scale));
            }
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }

        body {
            margin: 0;
            font-family: "PPMori", system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
            background: var(--bg);
            color: var(--ink);
            line-height: 1.5;
            text-rendering: optimizeLegibility;
            padding-top: var(--header-h);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        a {
            color: var(--brand);
            text-decoration: none;
        }

        a:hover {
            text-decoration: none;
        }

        button {
            font: inherit;
            cursor: pointer;
        }

        :focus-visible {
            outline: 3px solid #93c5fd;
            outline-offset: 2px;
        }

        /* ---------------------------------------
       1) TYPOGRAPHY
    --------------------------------------- */
        p {
            font-family: "PPMori Light", "PPMori", system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
            font-weight: 100;
        }

        .section p.lead {
            opacity: .92;
        }

        .hint {
            opacity: .9;
        }

        .tag-link {
            display: inline-block;
            font-family: "PPMori";
            padding: 2px 10px;
            border-radius: 999px;
            background: #d48139;
            color: #104D95;
            font-weight: 600;
        }

        .tag-link:hover,
        .tag-link:focus-visible {
            color: #08213f;
            background-color: var(--magenta);
        }

        /* ---------------------------------------
       2) LAYOUT
    --------------------------------------- */
        .wrap {
            width: min(100%, var(--maxw));
            margin-inline: auto;
            padding-inline: var(--pad-inline);
        }

        section {
            scroll-margin-top: calc(var(--header-h) + 12px);
        }

        .theme-brand {
            background: var(--brand);
            color: #fff;
        }

        .theme-accent {
            background: var(--accent);
            color: #101828;
        }

        .theme-orange {
            background: var(--orange);
            color: #fff;
        }

        .theme-magenta {
            background: var(--magenta);
            color: #fff;
        }

        .theme-green {
            background: var(--green);
            color: #072b19;
        }

        .theme-red {
            background: var(--red);
            color: #fff;
        }

        .theme-brand a,
        .theme-orange a,
        .theme-magenta a,
        .theme-red a {
            color: #fff;
        }

        .theme-green a {
            color: #052612;
        }

        .theme-accent a {
            color: #5a3d00;
        }

        /* ---------------------------------------
       3) HEADER / NAV
    --------------------------------------- */
        .header {
            position: fixed;
            inset: 0 0 auto 0;
            z-index: 1000;
            backdrop-filter: saturate(1.2) blur(6px);
            background: color-mix(in oklab, var(--bg) 88%, #ffffff 12%);
            border-bottom: 2px solid var(--border);
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--gap);
            padding: 14px var(--pad);
            min-height: var(--header-h);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 800;
            letter-spacing: .2px;
            color: inherit;
        }

        .brand .logo {
            width: 36px;
            aspect-ratio: 1;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--brand), #52b5ff);
            display: grid;
            place-items: center;
            color: #fff;
            font-weight: 900;
            border: 2px solid var(--brand);
            box-shadow: var(--shadow);
        }

        .brand .titles {
            display: flex;
            flex-direction: column;
            line-height: 1.1;
        }

        .titles .site {
            font-weight: 800;
        }

        .titles .mural {
            font-weight: 600;
            font-size: .9rem;
            color: #5D8EBA;
        }

        .menu {
            display: flex;
            gap: 14px;
            align-items: center;
        }

        .menu a {
            padding: 10px 14px;
            border-radius: 30px;
            font-weight: 600;
            display: inline-block;
            transition: background .2s ease, color .2s ease, border .2s ease;
            border: 2px solid transparent;
            color: #fff;
        }

        .menu a[href="#home"] {
            background: var(--brand);
        }

        .menu a[href="#create-ar"] {
            background: var(--accent);
        }

        .menu a[href="#artists"] {
            background: var(--orange);
        }

        .menu a[href="#about"] {
            background: var(--magenta);
        }

        .menu a[href="#visit"] {
            background: var(--green);
        }

        .menu a[href="#involved"] {
            background: var(--red);
        }

        .menu a[href="#home"]:hover {
            background: #fff;
            color: var(--brand);
            border-color: var(--brand);
        }

        .menu a[href="#create-ar"]:hover {
            background: #fff;
            color: var(--accent);
            border-color: var(--accent);
        }

        .menu a[href="#artists"]:hover {
            background: #fff;
            color: var(--orange);
            border-color: var(--orange);
        }

        .menu a[href="#about"]:hover {
            background: #fff;
            color: var(--magenta);
            border-color: var(--magenta);
        }

        .menu a[href="#visit"]:hover {
            background: #fff;
            color: var(--green);
            border-color: var(--green);
        }

        .menu a[href="#involved"]:hover {
            background: #fff;
            color: var(--red);
            border-color: var(--red);
        }

        /* pale blue for What's Happening link */
        .menu a.menu-whats {
            background: var(--card);
            /* pale bg so it’s visible */
            color: var(--brand);
            /* brand blue text */
            border: 2px solid var(--brand);
            /* outline for consistency */
        }

        .menu a.menu-whats:hover {
            background: var(--brand);
            color: #fff;
        }


        .hamburger {
            display: none;
            border: 2px solid var(--border);
            padding: 8px 10px;
            border-radius: 12px;
            background: #fff;
        }

        @media (max-width:820px) {
            .menu {
                position: fixed;
                left: 12px;
                right: 12px;
                top: calc(var(--header-h) + 8px);
                background: #fff;
                box-shadow: var(--shadow);
                border: 2px solid var(--border);
                border-radius: 16px;
                padding: 10px;
                display: none;
                flex-direction: column;
                z-index: 1001;
            }

            .menu.open {
                display: flex;
            }

            .hamburger {
                display: inline-flex;
            }
        }

        /* ---------------------------------------
       4) FEATURED IMAGE
    --------------------------------------- */
        .featured img {
            width: 100vw;
            max-width: 100vw;
            height: clamp(220px, 34vw, 520px);
            object-fit: cover;
            object-position: left center;
            display: block;
            animation: mural-pan 240s linear infinite alternate;
        }

        @keyframes mural-pan {
            from {
                object-position: left center;
            }

            to {
                object-position: right center;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .featured img {
                animation: none;
            }
        }

        /* ---------------------------------------
       5) HERO
    --------------------------------------- */
        .hero {
            padding: clamp(24px, 6vw, 72px) 0;
            position: relative;
            padding-top: 0 !important;
            /* .section already adds wave clearance */
            padding-bottom: clamp(28px, 7vw, 84px) !important;
            /* extra comfort */
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 1.25fr .75fr;
            gap: var(--pad-lg);
            align-items: center;
        }

        /* tighter hero intro copy */
        .hero-grid p {
            font-size: clamp(12px, 1.5vw, 14px);
            font-weight: 600;
            line-height: 1.45;
        }

        @media (max-width:600px) {
            .hero-grid p {
                font-size: var(--mobile-p);
            }
        }

        h1 {
            margin: 8px 0 12px;
            font-size: clamp(28px, 4.8vw, 54px);
            line-height: 1.05;
            letter-spacing: -.5px;
            color: #fec993;
        }

        .sub {
            font-size: clamp(18px, 2.8vw, 20px);

        }

        .hero-cta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        @media (max-width:960px) {
            .hero-grid {
                grid-template-columns: 1fr;
            }

            .hero-cta {
                grid-template-columns: 1fr;
            }
        }

        /* hero stats counters */
        .stats-grid {
            width: 100%;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--gap);
            margin-top: 20px;
        }

        .stat-card {
            background: #fff;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow);
            padding: clamp(12px, 2.6vw, 18px);
            text-align: center;
            /* center text */
            justify-items: center;
            /* grid alignment fallback */
        }

        .stat-card .num {
            display: block;
            font-weight: 900;
            font-size: clamp(26px, 4vw, 40px);
            line-height: 1;
            color: #0b3d77;
            letter-spacing: -0.5px;
        }

        .stat-card .label {
            display: block;
            margin-top: 8px;
            font-weight: 700;
            color: var(--muted);
            font-size: clamp(12px, 2.2vw, 14px);
        }

        @media (max-width:900px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width:560px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ---------------------------------------
       6) CARDS / BADGE
    --------------------------------------- */
        .card {
            background: #fff;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: clip;
        }

        .card .body {
            padding: var(--pad);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 10px;
            background: #eef6ff;
            color: var(--brand);
            border-radius: 999px;
            font-size: .9rem;
            border: 2px solid var(--border);
        }

        /* ---------------------------------------
       7) SECTIONS / HEADINGS + WAVES (absolute at top)
    --------------------------------------- */
        .section {
            padding: var(--pad-lg) 0;
            position: relative;
            /* padding-top: calc(var(--pad-lg) + var(--wave-h)); */
            padding-top: calc(var(--wave-h) + var(--section-top-extra)) !important;
            padding-bottom: calc(var(--pad-lg) + var(--section-bottom-extra)) !important;
        }

        .section h2 {
            font-size: clamp(22px, 3.6vw, 34px);
            margin: 0 0 10px;
        }

        #artists .section-title {
            color: #ffffff !important;
        }

        /* WAVES */
        .wave {
            position: absolute;
            top: calc(-1 * var(--wave-h) + 1px);
            left: 0;
            right: 0;
            height: var(--wave-h);
            line-height: 0;
            margin: 0;
            pointer-events: none;
            z-index: 1;
        }

        .wave svg {
            display: block;
            width: 100%;
            height: 100%;
            transform: scaleY(.5);
            /* compress by 2 */
            transform-origin: bottom center;
            /* keep bottom edge stuck to the section top */
        }

        .wave path {
            fill: currentColor;
        }

        .wave--brand {
            color: var(--brand);
        }

        .wave--white {
            color: #ffffff;
        }

        .wave--accent {
            color: var(--accent);
        }

        .wave--orange {
            color: var(--orange);
        }

        .wave--magenta {
            color: var(--magenta);
        }

        .wave--green {
            color: var(--green);
        }

        .wave--red {
            color: var(--red);
        }

        /* ---------------------------------------
       8) GRIDS
    --------------------------------------- */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--gap);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--gap);
        }

        @media (max-width:900px) {

            .grid-2,
            .grid-3 {
                grid-template-columns: 1fr;
            }
        }

        /* ---------------------------------------
       9) MODEL VIEWER
    --------------------------------------- */
        model-viewer {
            width: 100%;
            height: min(56vh, 480px);
            background: #f8fafc;
            border-radius: var(--radius);
            border: 2px solid var(--border);
            box-shadow: var(--shadow);
        }

        /* ---------------------------------------
       10) ARTISTS
    --------------------------------------- */
        #artists h2,
        #artists h3 {
            color: #e85e24;
        }

        #artists .body,
        #artists .body p,
        #artists .body a,
        #artists .body li {
            color: #667085;
        }

        #artists .body a:hover {
            color: #e85e24;
        }

        .artist {
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: var(--gap);
            align-items: start;
        }

        .artist .avatar {
            width: 120px;
            aspect-ratio: 1;
            border-radius: 50%;
            background: #eef2f7;
            object-fit: cover;
            border: 2px solid var(--border);
            box-shadow: var(--shadow);
        }

        @media (max-width:640px) {
            .artist {
                grid-template-columns: 1fr;
            }
        }

        /* ---------------------------------------
       11) ABOUT logos
    --------------------------------------- */
        .about-card {
            background: #fff;
            border: 2px solid var(--border);
            color: #101828;
            border-radius: var(--radius);
            padding: var(--pad);
            box-shadow: var(--shadow);
        }



        #about .about-card p.mt-2 {
            text-align: center;
            margin-top: 44px;
        }

        #about .about-card p.mt-2 a {
            display: inline-block;
            padding: 10px 18px;
            border-radius: 30px;
            font-weight: 600;
            background: var(--magenta);
            color: #ffffff !important;
            border: 2px solid var(--magenta);
            transition: background .2s ease, color .2s ease;
        }

        #about .about-card p.mt-2 a:hover {
            background: #ffffff;
            color: var(--magenta) !important;
            border: 2px solid var(--magenta);
        }


        .logos {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            /* top row */
            gap: 28px;
            align-items: center;
            justify-items: center;
            margin-top: 32px;
        }

        .logos img {
            max-height: 96px;
            width: auto;
            opacity: .95;
            filter: saturate(.95) contrast(1.05);
        }

        /* bottom row spans full width and is centered */
        .logos-row {
            grid-column: 1 / -1;
            display: flex;
            justify-content: center;
            /* <-- centers as a pair */
            align-items: center;
            gap: 60px;
            width: 100%;
            margin-inline: auto;
            /* safety */
        }

        /* balance the visual weight */
        .logos-row img[alt*="Singapore Institute of Technology"] {
            max-height: 80px;
        }

        .logos-row img[alt="TYC"] {
            max-height: 96px;
        }

        @media (max-width:720px) {
            .logos {
                grid-template-columns: repeat(2, 1fr);
            }

            .logos img {
                max-height: 72px;
            }

            .logos-row {
                flex-direction: column;
                gap: 24px;
            }

            .logos-row img {
                max-height: 64px;
            }
        }


        @media (max-width:720px) {
            .logos {
                grid-template-columns: repeat(2, 1fr);
            }

            .logos img {
                max-height: 72px;
            }

            .logos-row {
                flex-direction: column;
                gap: 24px;
            }

            .logos-row img {
                max-height: 64px;
            }
        }




        /* ---------------------------------------
       12) MAP
    --------------------------------------- */
        .map {
            border: 0;
            width: 100%;
            height: 360px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
        }

        /* ---------------------------------------
       13) FORM & BUTTONS
    --------------------------------------- */
        form {
            display: grid;
            gap: 12px;
        }

        label {
            font-weight: 700;
            font-size: .95rem;
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: #fff;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 18px;
            border-radius: var(--radius-sm);
            border: 2px solid transparent;
            background: var(--brand);
            color: #fff;
            font-weight: 800;
            box-shadow: var(--shadow);
            text-decoration: none;
        }

        .btn:hover {
            filter: brightness(1.05);
        }

        .btn.alt {
            background: #fff;
            color: var(--brand);
            border: 2px solid var(--brand);
        }

        .btn.ghost {
            background: var(--card);
            color: var(--brand);
            border: 2px solid var(--border);
        }

        .btn.orange {
            background: var(--orange);
            border-color: var(--orange);
            color: #fff;
        }

        .btn.red {
            background: var(--red);
            border-color: var(--red);
            color: #fff;
        }

        .btn.green {
            background: var(--green);
            border-color: var(--green);
            color: #072b19;
        }

        .btn.magenta {
            background: var(--magenta);
            border-color: var(--magenta);
            color: #fff;
        }

        .btn-artist {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 18px;
            border-radius: 30px;
            border: 2px solid var(--orange);
            background: var(--orange);
            color: #ffffff !important;
            font-weight: 600;
            text-decoration: none;
            box-shadow: var(--shadow);
            transition: background .2s ease, color .2s ease;
        }

        .btn-artist:hover {
            background: #ffffff !important;
            color: var(--orange) !important;
            border: 2px solid var(--orange);
        }

        /* ---------------------------------------
       14) FOOTER
    --------------------------------------- */
        .footer {
            padding: 0;
            position: relative;

            padding-top: calc(var(--wave-h) + var(--section-top-extra)) !important;
            padding-bottom: calc(var(--pad-lg) + var(--section-bottom-extra)) !important;
        }

        .footer .grid-3 p,
        .footer .grid-3 a {
            color: var(--muted);
        }

        .footer ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .footer ul li a {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 30px;
            border: 2px solid var(--brand);
            background: #fff;
            color: var(--brand);
            font-weight: 600;
            text-decoration: none;
            transition: background .2s ease, color .2s ease;
        }

        .footer ul li a:hover {
            background: var(--brand);
            color: #fff;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex !important;
            flex-direction: row !important;
            gap: 24px;
            align-items: center;
            flex-wrap: nowrap;
        }

        @media (min-width: 861px) {
            .footer-links {
                flex-wrap: nowrap !important;
                justify-content: space-between;
            }
        }

        @media (max-width: 860px) {
            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
            }
        }

        @media (max-width: 640px) {
            .footer-links {
                display: grid !important;
                grid-template-columns: repeat(2, minmax(0, 1fr));
                gap: 12px;
                justify-items: center;
            }

            .footer-links li a {
                width: 100%;
                min-height: 120px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }

        .footer-links li a {
            display: inline-block;
            padding: 0;
            border: none;
            border-radius: 0;
            background: transparent;
        }

        .footer-links li a:hover {
            background: transparent;
            border: none;
        }

        /* ---------------------------------------
       15) UTILITIES
    --------------------------------------- */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .center {
            text-align: center;
        }

        .mt-1 {
            margin-top: 6px;
        }

        p.mt-1 {
            font-size: var(--mobile-p);
        }

        .mt-2 {
            margin-top: 12px;
        }

        .mt-3 {
            margin-top: 18px;
        }

        .mt-4 {
            margin-top: 24px;
        }

        .mt-6 {
            margin-top: 36px;
        }

        /* ---------------------------------------
       16) FAB
    --------------------------------------- */
        .fab {
            position: fixed;
            right: 14px;
            bottom: 14px;
            z-index: 999;
            padding: 12px 14px;
            border-radius: 999px;
            background: var(--brand);
            color: #fff;
            border: 2px solid var(--brand);
            box-shadow: var(--shadow);
        }

        /* ---------------------------------------
       17) MOTION
    --------------------------------------- */
        @media (prefers-reduced-motion:no-preference) {
            .btn {
                transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
            }

            .btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 12px 36px rgba(16, 24, 40, .16);
            }
        }

        /* ---------------------------------------
       18) EVENTS (one-at-a-time carousel)
    --------------------------------------- */
        .events {
            background: #fff;
            position: relative;

            padding-top: calc(var(--wave-h) + var(--section-top-extra)) !important;
            padding-bottom: calc(var(--pad-lg) + var(--section-bottom-extra)) !important;
        }

        .events-head {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: var(--gap);
        }

        .events-rail {
            position: relative;
            margin-top: 14px;
        }

        .events-window {
            overflow: hidden;
            border-radius: calc(var(--radius) + 4px);
        }

        .events-track {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: 100%;
            gap: 0;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior-inline: contain;
        }

        .event-card {
            scroll-snap-align: start;
            display: grid;
            grid-template-columns: 140px 1fr;
            gap: var(--gap);
            align-items: center;
            background: #fff;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--pad);
            min-height: 180px;
        }

        .event-card .event-banner {
            grid-column: 1 / -1;
            width: 100%;
            border-radius: calc(var(--radius) - 12px);
            border: 2px solid var(--border);
            object-fit: cover;
        }

        .event-date {
            display: grid;
            place-items: center;
            border-radius: var(--radius-sm);
            border: 2px solid var(--brand);
            background: var(--brand);
            color: #fff;
            font-weight: 800;
            text-align: center;
            padding: 14px;
            line-height: 1.05;
            box-shadow: var(--shadow);
        }

        .event-date .day {
            font-size: clamp(28px, 5vw, 40px);
        }

        .event-date .mon,
        .event-date .year {
            font-size: .95rem;
            letter-spacing: .5px;
        }

        .event-date .range {
            font-size: clamp(16px, 3.5vw, 22px);
            font-weight: 700;
            text-transform: uppercase;
        }

        .event-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 8px;
        }

        .event-meta .badge {
            background: #fff;
        }

        .events-nav {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Events section border colors */
        #events .event-card {
            border-radius: 45px;
        }

        /* use nth-child to rotate colors */
        #events .event-card:nth-child(1) {
            border-color: var(--brand);
        }

        #events .event-card:nth-child(2) {
            border-color: var(--accent);
        }

        #events .event-card:nth-child(3) {
            border-color: var(--orange);
        }

        /* if you add more slides, continue: 4th = var(--magenta), 5th = var(--green), 6th = var(--red) */

        @media (max-width:600px) {
            .event-card {
                grid-template-columns: 1fr;
                align-items: flex-start;
            }

            .event-card .event-banner {
                order: -2;
            }

            .event-card .event-date {
                grid-column: 1 / -1;
                width: 100%;
                order: -1;
            }

            .event-card .event-meta .badge {
                font-size: 12px;
                padding: 4px 10px;
            }
        }


        .nav-btn {
            display: inline-grid;
            place-items: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid var(--brand);
            background: #fff;
            color: var(--brand);
            box-shadow: var(--shadow);
        }

        .nav-btn[disabled] {
            opacity: .45;
            filter: grayscale(.3);
            cursor: not-allowed;
        }

        .nav-btn:hover {
            filter: brightness(1.05);
        }

        .events-dots {
            display: flex;
            gap: 6px;
            justify-content: center;
            align-items: center;
            margin-top: 12px;
        }

        .events-dots button {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            border: 2px solid var(--brand);
            background: #fff;
            padding: 0;
            aspect-ratio: 1 / 1;
        }

        .events-dots button[aria-current="true"] {
            background: var(--brand);
        }

        /* Lightbox */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(16, 24, 40, .48);
            backdrop-filter: blur(2px);
            z-index: 2000;
        }

        .modal {
            position: fixed;
            inset: 0;
            display: grid;
            place-items: center;
            z-index: 2001;
        }

        .modal[hidden],
        .modal-backdrop[hidden] {
            display: none !important;
        }

        .modal-body {
            width: min(680px, 92vw);
            max-height: 85vh;
            overflow: auto;
            background: #fff;
            border: 2px solid var(--border);
            border-radius: 30px;
            /* consistent radius */
            box-shadow: var(--shadow);
            padding: clamp(18px, 3.5vw, 28px);
        }

        .modal-text p {
            margin: 0 0 .8rem;
        }

        .modal-actions {
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .modal-close {
            position: absolute;
            top: max(10px, env(safe-area-inset-top));
            right: max(10px, env(safe-area-inset-right));
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--border);
            background: #fff;
            color: var(--ink);
            box-shadow: var(--shadow);
            font-weight: 800;
            line-height: 1;
        }

        /* keep buttons/radii consistent */
        #involved .card,
        #involved .btn,
        #involved .btn.alt,
        .modal-body,
        .modal-close {
            border-radius: 30px;
        }

        .modal-text h4 {
            margin: 1rem 0 .4rem;
            font-size: 1rem;
            font-weight: 700;
            color: var(--brand);
        }

        .modal-text hr {
            border: none;
            border-top: 2px solid var(--border);
            margin: 1rem 0;
        }

        .modal-text ul {
            margin: 0 0 1rem 1.2rem;
            padding: 0;
            list-style: disc;
        }

        .modal-text li {
            margin-bottom: .4rem;
        }

        /* Behind the Scenes — Auto-swiping carousel */
        #about .bts {
            margin-top: clamp(18px, 4vw, 36px);
        }

        #about .bts-title {
            margin: 0 0 12px;
            font-size: clamp(18px, 2.6vw, 22px);
            color: #ffffff;
        }

        #about .bts-rail {
            position: relative;
        }

        #about .bts-window {
            overflow: hidden;
            border-radius: 30px;
            box-shadow: var(--shadow);
            border: 2px solid var(--border);
            background: #fff;
        }


        /* show 2 slides side by side on wider screens */
        @media (min-width: 720px) {
            #about .bts-track {
                grid-auto-columns: 50%;
            }
        }

        /* 1-up only */
        #about .bts-track {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: 100%;
            /* always full width */
            gap: 0;
            scroll-snap-type: x mandatory;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior-inline: contain;
            scroll-behavior: smooth;
        }

        #about .bts-slide {
            margin: 0;
            height: min(72vh, 680px);
            /* or your preferred height */
            scroll-snap-align: start;
            background: #fff;
        }

        #about .bts-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* optional: you can delete any .bts-slide figcaption rules if present */


        #about .bts-slide figcaption {
            background: #fff;
            border-top: 2px solid var(--border);
            padding: 10px 12px;
            font-weight: 700;
            color: var(--ink);
        }

        /* Controls */
        #about .bts-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        #about .bts-nav {
            width: 40px;
            height: 40px;
            display: grid;
            place-items: center;
            border-radius: 30px;
            border: 2px solid var(--brand);
            background: #fff;
            color: var(--brand);
            box-shadow: var(--shadow);
        }

        #about .bts-dots {
            display: flex;
            gap: 6px;
            align-items: center;
            justify-content: center;
        }

        #about .bts-dots button {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            border: 2px solid var(--brand);
            background: #fff;
            padding: 0;
            aspect-ratio: 1 / 1;
        }

        @media (max-width:600px) {
            #about .bts-controls {
                gap: 4px;
                flex-wrap: wrap;
                padding: 0 6px;
            }

            #about .bts-nav {
                width: 26px;
                height: 26px;
                font-size: 0.75rem;
            }

            #about .bts-dots {
                gap: 4px;
                flex-wrap: wrap;
                max-width: 70%;
            }

            #about .bts-dots button {
                width: 8px;
                height: 8px;
                border-width: 2px;
                aspect-ratio: 1 / 1;
            }
        }

        #about .bts-dots button[aria-current="true"] {
            background: var(--brand);
        }

        /* Hover = pause hint (optional) */
        @media (hover:hover) {
            #about .bts-window:hover {
                cursor: pointer;
            }
        }

        /* --- Updated logo layout --- */

        /* Ensure logos are evenly spaced and centered */
        .logos {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 28px;
            margin-top: 20px;
        }

        /* SIT logo centered and balanced */
        .logos img[alt*="Singapore Institute of Technology"] {
            max-height: 80px;
            display: block;
            margin-inline: auto;
            /* centers horizontally */
        }

        /* TYC stays centered under “Supported by” */
        .logos-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin-top: 20px;
        }

        /* Responsive adjustments */
        @media (max-width: 720px) {
            .logos {
                flex-direction: column;
                gap: 20px;
            }

            .logos img {
                max-height: 72px;
            }

            .logos-row {
                flex-direction: column;
                gap: 24px;
            }

            .logos-row img {
                max-height: 64px;
            }
        }

        .brand .titles {
            display: flex;
            flex-direction: column;
            line-height: 1.1;
            max-width: clamp(150px, 28vw, 200px);
            font-size: 1.2rem;
            /* keep the header copy tighter */
        }

        /* make the map full width in the visit section */
        #visit .grid-2 {
            grid-template-columns: 1fr;
        }

        #visit .map {
            width: 100%;
            height: 480px;
            /* optional: taller map */
        }

        /* responsive footer grid */
        .footer-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--gap);
            width: min(100%, var(--maxw));
            margin-inline: auto;
            padding-inline: var(--pad-inline);
        }



        /* footer logos bigger + aligned nicely */
        .footer-links li a {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 10px 16px;
            border: none !important;
            background: transparent !important;
            border-radius: 0;
        }

        .footer-links li a img {
            height: 120px;
            width: auto;
            display: block;
            filter: saturate(1) contrast(1.05);
            transition: transform 0.2s ease;
        }

        .footer-links li a:hover img {
            transform: scale(1.05);
        }

        @media (max-width: 640px) {
            .footer-links li a img {
                height: 80px;
            }
        }

        @media (max-width: 640px) {
            :root {
                --pad: clamp(20px, 6vw, 28px);
            }
        }
    </style>
</head>

<body>
    <!-- ==============================
       HEADER / NAV
  =============================== -->
    <header class="header" role="banner">
        <div class="nav wrap" aria-label="Primary">
            <a class="brand" href="#home" aria-label="People of PDD home">
                <!-- <span class="logo" aria-hidden="true">P</span> -->
                <span class="titles">
                    <span class="site">Our Punggol Story</span>
                    <span class="mural" style="font-size: 0.8rem;">Singapore's Longest Wall Mural at Punggol Digital
                        District</span>
                </span>
            </a>
            <nav>
                <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="menu">☰</button>
                <div class="menu" id="menu">
                    <a href="#home">About</a>
                    <a href="#artists">The Artists</a>

                    <a href="#create-ar">Create Your Avatar</a>
                    <a href="#about">What's Happening</a>
                    <a href="#visit">Visit Us</a>
                    <a href="#involved">Get Involved</a>
                </div>


            </nav>
        </div>
    </header>

    <!-- ==============================
       FEATURED IMAGE (plain, no wave)
  =============================== -->
    <div class="featured">
        <img src="assets/long-mural.jpg" alt="Our Punggol Story mural — featured image" />
    </div>

    <!-- ==============================
       HERO (brand) — WAVE AT TOP (brand)
  =============================== -->
    <main id="home" class="hero section theme-brand">
        <div class="wave wave--brand" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <div class="hero-grid">
                <div>
                    <h1>Our Punggol Story</h1>
                    <p>
                        Shaping Hearts is Singapore’s largest inclusive arts festival by the North East Community
                        Development Council,
                        providing persons with disabilities a platform to showcase their talents and pursue their
                        artistic passions.
                        As an extension of the festival, the Shaping Hearts Placemaking Series transforms everyday
                        spaces into inclusive
                        art canvases, amplifying the voices of artists with disabilities, promoting accessibility, and
                        deepening
                        community understanding.
                    </p>

                    <p>
                        As part of this series, we are proud to present <b>Our Punggol Story</b> mural at Punggol
                        Digital District.
                        Commissioned in partnership with <b>JTC</b>, the mural reflects JTC’s commitment to advancing
                        inclusive
                        placemaking and community engagement alongside <b>NECDC</b> and Design Factory @ SIT. <br>
                        <br>Co-created
                        with Shaping Hearts
                        special needs artists
                        <b>Simeon Tan</b> and <b>Ezra Chan Yi</b>, the mural was executed by <b>TYC Studios</b> and
                        brought to life with
                        contributions from key stakeholders of Punggol Digital District and the wider community
                        including the
                        <b>Singapore Institute of Technology</b> and <b>Punggol residents</b>. It traces Punggol’s
                        journey from a
                        riverside village, through kampungs, to Singapore’s first man-made waterway, reflecting the
                        enduring spirit of
                        community and nature.
                    </p>
                    <p>
                        This mural also fosters community co-creation through <a class="tag-link"
                            href="https://peopleofpdd.sg" target="_blank" rel="noopener">peopleofpdd.sg</a>. This
                        digital platform empowers the public to design avatars, blending their creations with the
                        physical mural in a seamless online experience.
                    </p>

                    <p>
                        Marking <b>SG60</b>, the mural also celebrates our nation’s growth and resilience, mirrored in
                        Punggol’s own
                        evolution. Today, Punggol Digital District ushers in a new era of innovation while remaining
                        rooted in the
                        values of community.
                    </p>
                </div>
                <div></div>
            </div>


            <!-- full-width stats -->
            <div class="stats-grid" id="statsGrid" aria-label="project statistics">
                <div class="stat-card"><span class="num" data-counter data-target="500" data-suffix="+">0</span><span
                        class="label">Contributors</span></div>
                <div class="stat-card"><span class="num" data-counter data-target="450" data-suffix="+">0</span><span
                        class="label">Avatars created</span></div>
                <div class="stat-card"><span class="num" data-counter data-target="9">0</span><span
                        class="label">Partners</span></div>
                <div class="stat-card"><span class="num" data-counter data-target="132" data-suffix=" m">0</span><span
                        class="label">Length of mural</span></div>
            </div>
        </div>
    </main>
    <!-- ==============================
       ARTISTS (orange) — WAVE AT TOP (orange)
  =============================== -->
    <section class="section theme-orange" id="artists">
        <div class="wave wave--orange" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <h2 class="section-title">Featured Shaping Hearts Artists</h2>
            <div class="grid-2 mt-2">
                <div class="card">
                    <div class="body artist">
                        <img class="avatar" alt="Portrait of Simeon Tan Rui En" loading="lazy"
                            src="assets/simeon.png" />
                        <div>
                            <h3 style="margin:0"><a href="https://shapinghearts.cdc.gov.sg/simeon-tan-rui-en/"
                                    target="_blank" rel="noopener">Simeon Tan Rui En</a></h3>
                            <p class="mt-1">Simeon Tan Rui En is a multidisciplinary artist with Autism Spectrum
                                Disorder (ASD), known for his vibrant, imaginative works across mediums. Clay offers him
                                calm and balance, while his playful visual style brings joy to community art. A NAFA
                                Visual Arts graduate with distinction, Simeon has exhibited with Pathlight, ART:DIS, and
                                Shaping Hearts, and contributed his signature whimsical forms to the Punggol Digital
                                District Placemaking Mural, celebrating nature and technology in harmony.</p>
                            <a class="btn-artist" href="https://shapinghearts.cdc.gov.sg/simeon-tan-rui-en/"
                                target="_blank" rel="noopener">Learn More</a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="body artist">
                        <img class="avatar" alt="Portrait of Ezra Chan Yi" loading="lazy" src="assets/ezra.png" />
                        <div>
                            <h3 style="margin:0"><a href="https://shapinghearts.cdc.gov.sg/ezra-chan-yi/"
                                    target="_blank" rel="noopener">Ezra Chan Yi</a></h3>
                            <p class="mt-1">Ezra Chan Yi, an interdisciplinary artist with ASD, works across
                                illustration, animation, and painting to explore memory and emotion. His distinctive use
                                of color and narrative depth gives voice to personal and collective stories. A
                                multi-award-winning NAFA graduate and international exhibitor, Ezra’s expressive motifs
                                and layered imagery enriched the Punggol Digital District Mural, adding emotional
                                resonance and visual dynamism to the collaborative artwork.</p>
                            <a class="btn-artist" href="https://shapinghearts.cdc.gov.sg/ezra-chan-yi/" target="_blank"
                                rel="noopener">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <!-- <div class="center mt-3"><a class="btn alt" href="https://shapinghearts.sg" target="_blank"
                    rel="noopener">Learn more on Shaping Hearts</a></div> -->
            <div class="card mt-2">
                <div class="body artist">
                    <img class="avatar" alt="Portrait of Tell Your Children collective" loading="lazy"
                        src="assets/tyc-image.png" />
                    <div>
                        <h3 style="margin:0"><a href="https://tellyourchildren.com.sg" target="_blank" rel="noopener">
                                Tell Your Children
                            </a></h3>
                        <p class="mt-1">
                            Tell Your Children (TYC) is a Singapore-based creative collective known for punchy
                            illustrations and bold murals across the island. Their graphic storytelling blends
                            pop culture, local heritage, and contemporary design, bringing youthful energy to
                            the Punggol Digital District mural while championing community-driven art.
                        </p>
                        <a class="btn-artist" href="https://tellyourchildren.world/" target="_blank" rel="noopener">
                            Learn More
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>




    <!-- ==============================
       CREATE AVATAR + AR (accent) — WAVE AT TOP (accent)
  =============================== -->
    <section class="section theme-accent" id="create-ar">
        <div class="wave wave--accent" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <h2>People of PDD</h2>
            <p class="lead">Create your own PDD avatar
                and bring it to life at the mural with AR!</p>
            <div class="card">
                <video src="assets/avatar-demo-vod.mp4" autoplay muted loop playsinline preload="metadata"
                    style="width:100%; border-radius:30px; display:block; object-fit:cover;">
                </video>
            </div>


            <div class="center mt-3">
                <div class="center mt-3">
                    <a href="https://peopleofpdd.sg/char.html" target="_blank" rel="noopener" class="btn alt">
                        Make Your Own Avatar
                        <span aria-hidden="true" style="margin-left:6px;">🔗</span>
                    </a>

                    <a href="https://example.com/" target="_blank" rel="noopener" class="btn alt"
                        style="margin-left:12px;">
                        See Your Avatar at the Mural!
                        <span aria-hidden="true" style="margin-left:6px;">🔗</span>
                    </a>
                </div>

            </div>
    </section>


    <!-- ==============================
       WHAT'S HAPPENING (white) — WAVE AT TOP (white)
  =============================== -->
    <section class="section events" id="events" role="region" aria-label="What’s Happening carousel">
        <div class="wave wave--white" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <div class="events-head">
                <div>
                    <h2>What’s Happening</h2>
                    <p class="lead">Upcoming moments around the mural and our community!</p>
                </div>
                <div class="events-nav" aria-label="carousel controls">
                    <button class="nav-btn" id="evtPrev" aria-label="Previous event" title="Previous">←</button>
                    <button class="nav-btn" id="evtNext" aria-label="Next event" title="Next">→</button>
                </div>
            </div>

            <div class="events-rail">
                <div class="events-window" id="eventsWindow">
                    <div class="events-track" id="eventsTrack">
                        <!-- Slide 1 -->
                        <article class="event-card" data-when="2025-11-16" aria-labelledby="evt-launch-title">
                            <img class="event-banner" src="assets/launchbanner.png"
                                alt="Crowd celebrating the launch of Our Punggol Story mural" loading="lazy" />
                            <div class="event-date" aria-hidden="true">
                                <span class="range">nov 16 2025 - nov 24 2025</span>
                            </div>

                            <div>
                                <h3 id="evt-launch-title" style="margin:0 0 6px">Launch of Our Punggol Story Mural</h3>
                                <p class="hint" style="margin:0 0 10px">
                                    Celebrate with artists, partners, and residents as we launch <b>Our Punggol
                                        Story</b>.
                                </p>
                                <div class="event-meta">
                                    <span class="badge">Punggol Digital District</span>
                                    <span class="badge">Public</span>
                                    <span class="badge">Free</span>
                                </div>
                                <!-- <div class="mt-2"><a class="btn alt" href="#involved">Get updates</a></div> -->
                            </div>
                        </article>

                        <!-- Slide 2 -->
                        <article class="event-card" data-when="2025-12-01" aria-labelledby="evt-hidden-title">
                            <div class="event-date" aria-hidden="true">
                                <span class="range">nov 16 2025 - nov 24 2025</span>
                            </div>
                            <div>
                                <h3 id="evt-hidden-title" style="margin:0 0 6px">HiddenSG x Shaping Hearts Trail</h3>
                                <p class="hint" style="margin:0 0 10px">
                                    Join our interactive WhatsApp treasure hunt — uncover mural secrets and hidden
                                    stories across Punggol Digital District.
                                </p>
                                <div class="event-meta">
                                    <span class="badge">Online</span>
                                    <span class="badge">Interactive</span>
                                    <span class="badge">Free</span>
                                </div>
                                <div class="mt-2"><a class="btn alt" href="#involved">Register to play</a></div>
                            </div>
                        </article>
                    </div>

                </div>
                <div class="events-dots" id="eventsDots" aria-hidden="true"></div>
            </div>
        </div>
    </section>


    <!-- ==============================
       ABOUT (magenta) — WAVE AT TOP (magenta)
  =============================== -->
    <section class="section theme-magenta" id="about">
        <div class="wave wave--magenta" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <!-- <div class="about-card">
                <h2>About the Project</h2>
                <p><b>Our Punggol Story</b> is a collaboration between JTC, NECDC, SIT, and Shaping Hearts under the
                    People of PDD initiative. Our goals: <b>inclusive co-creation</b>, <b>digital + physical layers</b>,
                    and <b>long-term community engagement</b>.</p>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veritatis aliquam iure iusto corporis nisi
                    voluptatum impedit. Ipsum id ducimus cum officiis perferendis totam architecto, laboriosam, tenetur
                    obcaecati, necessitatibus placeat.</p>
                <div class="logos" aria-label="Stakeholder logos">
                    <img src="./assets/logos/jtc.png" alt="JTC" loading="lazy" />
                    <img src="./assets/logos/necdc.png" alt="North East CDC" loading="lazy" />
                    <img src="./assets/logos/shapinghearts.png" alt="Shaping Hearts" loading="lazy" />
                    <div class="logos-row">
                        <img src="./assets/logos/sitdflogo.png" alt="Singapore Institute of Technology"
                            loading="lazy" />
                        <img src="./assets/logos/tyc.png" alt="TYC" loading="lazy" />
                    </div>
                </div>

                <p class="mt-2"><a href="https://www.jtc.gov.sg/" target="_blank" rel="noopener">Read about PDD as a
                        vibrant, well-connected, sustainable hub →</a></p>
            </div> -->
            <!-- 
            <div class="about-card">
                <h2>About the Project</h2>

                <p><b>Brought to you by:</b></p>
                <div class="logos" aria-label="Stakeholder logos">
                    <img src="./assets/logos/jtc.png" alt="JTC" loading="lazy" />
                    <img src="./assets/logos/necdc.png" alt="North East CDC" loading="lazy" />
                    <img src="./assets/logos/shapinghearts.png" alt="Shaping Hearts" loading="lazy" />
                    <img src="./assets/logos/sitdflogo.png" alt="Singapore Institute of Technology – Design Factory"
                        loading="lazy" />
                </div>

                <p class="mt-3"><b>Supported by:</b></p>
                <div class="logos-row">
                    <img src="./assets/logos/tyc.png" alt="TYC" loading="lazy" />
                </div>
            </div> -->


            <section class="bts" aria-label="Behind the Scenes">
                <h3 class="bts-title">Behind the Scenes</h3>

                <div class="bts-rail">
                    <div class="bts-window" id="btsWindow">
                        <div class="bts-track" id="btsTrack">
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-1.jpeg"
                                    alt="Behind the scenes photo of early mural concept sketching" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-2.JPG"
                                    alt="Behind the scenes photo of collaborative workshop table" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-3.jpeg"
                                    alt="Behind the scenes photo showing digital layout refinement" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-4.jpeg"
                                    alt="Behind the scenes photo of team testing AR overlay" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-5.jpeg"
                                    alt="Behind the scenes photo capturing mural painting in progress" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-6.jpg"
                                    alt="Behind the scenes photo of detailed brushwork on the wall" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-7.JPG"
                                    alt="Behind the scenes photo of volunteers contributing to the mural"
                                    loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-8.JPG"
                                    alt="Behind the scenes photo highlighting community members painting together"
                                    loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-9.JPG"
                                    alt="Behind the scenes photo of mural textures up close" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-10.JPG"
                                    alt="Behind the scenes photo documenting mural color blocking" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-11.JPG"
                                    alt="Behind the scenes photo of artists reviewing progress onsite" loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-12.JPG"
                                    alt="Behind the scenes photo of community members posing by the mural"
                                    loading="lazy" />
                            </figure>
                            <figure class="bts-slide">
                                <img src="assets/bts/pdd-bts-image-13.jpg"
                                    alt="Behind the scenes photo of final mural finishing touches" loading="lazy" />
                            </figure>
                        </div>
                    </div>

                    <div class="bts-controls" aria-label="Gallery controls">
                        <button class="bts-nav" id="btsPrev" aria-label="Previous slide">←</button>
                        <div class="bts-dots" id="btsDots" aria-hidden="true"></div>
                        <button class="bts-nav" id="btsNext" aria-label="Next slide">→</button>
                    </div>
                </div>
            </section>

        </div>
    </section>




    <!-- ==============================
       VISIT (green) — WAVE AT TOP (green)
  =============================== -->
    <section class="section theme-green" id="visit">
        <div class="wave wave--green" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="wrap">
            <h2>Visit & Map</h2>
            <p class="lead">Find the mural, plan your route, and discover the best viewing times.</p>
            <div class="grid-2">
                <div>
                    <iframe class="map" loading="lazy" allowfullscreen
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15954.509!2d103.899!3d1.404!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sPunggol%20Digital%20District!5e0!3m2!1sen!2ssg!4v00000000000"></iframe>
                </div>

            </div>
        </div>
    </section>

    <!-- ==============================
       GET INVOLVED (red) — WAVE AT TOP (red)
  =============================== -->
    <!-- <section class="section theme-red" id="involved">
        <div class="wave wave--red" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div> -->

    <!-- <div class="wrap">
            <h2>Partnerships and Collaboration</h2>
            <p class="lead">Join workshops, contribute future avatars, volunteer, or partner with us.</p>
            <div class="grid-1">
                <div class="card">
                    <div class="body">
                        <form id="interestForm" action="" method="post" novalidate>
                            <div>
                                <label for="name">Name</label>
                                <input id="name" name="name" autocomplete="name" required
                                    placeholder="Enter your full name" />
                            </div>
                            <div>
                                <label for="email">Email</label>
                                <input id="email" name="email" type="email" inputmode="email" autocomplete="email"
                                    required placeholder="Enter your email address" />
                            </div>
                            <div>
                                <label for="interest">Interest</label>
                                <select id="interest" name="interest" required>
                                    <option value="" disabled selected>Select one…</option>
                                    <option>Workshops</option>
                                    <option>Schools</option>
                                    <option>Partners</option>
                                    <option>Accessibility</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div>
                                <label for="msg">Message (optional)</label>
                                <textarea id="msg" name="message" rows="4" placeholder="Tell us more…"></textarea>
                            </div>
                            <div class="mt-2">
                                <button class="btn" type="submit">Submit</button>
                                <span id="formNote" class="hint" style="margin-left:8px"></span>
                            </div>
                            <p class="hint mt-2">We send low-frequency updates; you can opt out anytime.</p>
                        </form>
                    </div>
                </div>
            </div>
        </div> -->

    <!-- <div class="wrap">
            <h2>Partnerships and Collaboration</h2>
            <p class="lead">
                For partnership or collaboration opportunities, please write to
                <a href="mailto:northeast_cdc@pa.gov.sg">northeast_cdc@pa.gov.sg</a>.
            </p>
        </div> -->

    <!-- </section> -->

    <!-- Consent Lightbox -->
    <div class="modal-backdrop" id="consentBackdrop" hidden></div>

    <div class="modal" id="consentModal" role="dialog" aria-modal="true" aria-labelledby="consentTitle"
        aria-describedby="consentText" hidden>
        <button class="modal-close" id="consentClose" aria-label="Close">✕</button>
        <div class="modal-body">
            <h3 id="consentTitle" style="margin-top:0">Before You Submit</h3>
            <div id="consentText" class="modal-text">
                <p><b>About this form</b></p>
                <p>
                    Thank you for sharing your thoughts with the <b>Our Punggol Story</b> project, run
                    by
                    <b>JTC</b>, <b>NECDC</b>, and the <b>Singapore Institute of Technology (SIT)</b>.
                </p>

                <hr>

                <h4>What to know</h4>
                <ul>
                    <li>Please only share ideas or materials that are your own.</li>
                    <li>Your inquiry will be kept by the project team and may be used to guide planning, documentation,
                        or community activities.</li>
                    <li>Sending this form does not guarantee your idea will be included in the project, and there is no
                        payment for submissions.</li>
                    <li>If you’re submitting for a child, you confirm that you are their parent/guardian.</li>
                </ul>
            </div>

            <div class="modal-actions">
                <button class="btn alt" id="consentAgree">I UNDERSTAND</button>
            </div>
        </div>
    </div>



    <!-- ==============================
       FOOTER (white) — WAVE AT TOP (white)
  =============================== -->
    <footer class="footer">
        <span id="year" style="display: none;"></span>
        <div class="wave wave--white" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path
                    d="M0,192L48,181.3C96,171,192,149,288,160C384,171,480,213,576,213.3C672,213,768,171,864,176C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L0,320Z">
                </path>
            </svg>
        </div>

        <div class="footer-grid">
            <div>
                <!-- <b>Our Punggol Story</b>
                <p class="mt-1">Meet the artists, make your own avatar, and bring the mural to life with AR.</p> -->
            </div>

            <div>
                <b>Collaborate with Shaping Hearts!</b>
                <p class="mt-1">
                    For partnership or collaboration opportunities, please write to
                    <a href="mailto:northeast_cdc@pa.gov.sg">northeast_cdc@pa.gov.sg</a>.
                </p>
            </div>

            <div>
                <b>Brought To You By</b><br>
                <ul class="footer-links">
                    <li>
                        <a href="https://www.jtc.gov.sg/" target="_blank" rel="noopener">
                            <img src="assets/logos/jtc.png" alt="JTC logo" loading="lazy">
                        </a>
                    </li>
                    <li>
                        <a href="https://northeast.cdc.gov.sg/" target="_blank" rel="noopener">
                            <img src="assets/logos/necdc.png" alt="NECDC logo" loading="lazy">
                        </a>
                    </li>
                    <li>
                        <a href="https://shapinghearts.sg" target="_blank" rel="noopener">
                            <img src="assets/logos/shapinghearts.png" alt="Shaping Hearts logo" loading="lazy">
                        </a>
                    </li>
                    <!-- <li>
                        <a href="https://www.singaporetech.edu.sg" target="_blank" rel="noopener">
                            <img src="assets/logos/sitdflogo.png" alt="SIT logo" loading="lazy">
                        </a>
                    </li> -->
                    <li>
                        <a href="https://www.singaporetech.edu.sg/DesignFactory" target="_blank" rel="noopener">
                            <img src="assets/logos/sitdflogo.png" alt="DF@SIT logo" loading="lazy">
                        </a>
                    </li>
                </ul>
            </div>



            <div style="display: none;">
                <b>Share</b>
                <p class="mt-1">Share this mural</p>
                <div class="mt-1"><a class="btn ghost" id="shareBtn" href="#">Share link</a></div>
            </div>
        </div>

    </footer>

    <button class="fab" id="toTop" aria-label="Back to top">↑</button>

    <!-- JSON-LD for the unveiling -->
    <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Event",
    "name":"Our Punggol Story — Mural Unveiling",
    "eventStatus":"https://schema.org/EventScheduled",
    "eventAttendanceMode":"https://schema.org/OfflineEventAttendanceMode",
    "startDate":"2025-11-16",
    "location":{"@type":"Place","name":"Punggol Digital District","address":{"@type":"PostalAddress","addressLocality":"Singapore","addressCountry":"SG"}},
    "organizer":{"@type":"Organization","name":"People of PDD"},
    "isAccessibleForFree":true
  }
  </script>

    <script>


        //WAVE STUFF

        const WAVES = [
            // 1
            "M0,224L60,234.7C120,245,240,267,360,245.3C480,224,600,160,720,149.3C840,139,960,181,1080,197.3C1200,213,1320,203,1380,197.3L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z",
            // 2
            "M0,128L60,144C120,160,240,192,360,208C480,224,600,224,720,224C840,224,960,224,1080,234.7C1200,245,1320,267,1380,277.3L1440,288L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z",
            // 3
            "M0,96L60,122.7C120,149,240,203,360,229.3C480,256,600,256,720,240C840,224,960,192,1080,197.3C1200,203,1320,245,1380,266.7L1440,288L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z",
            // 4
            "M0,64L30,53.3C60,43,120,21,180,42.7C240,64,300,128,360,144C420,160,480,128,540,101.3C600,75,660,53,720,74.7C780,96,840,160,900,170.7C960,181,1020,139,1080,128C1140,117,1200,139,1260,160C1320,181,1380,203,1410,213.3L1440,224L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z",
            // 5
            "M0,224L30,224C60,224,120,224,180,213.3C240,203,300,181,360,181.3C420,181,480,203,540,202.7C600,203,660,181,720,197.3C780,213,840,267,900,272C960,277,1020,235,1080,224C1140,213,1200,235,1260,245.3C1320,256,1380,256,1410,256L1440,256L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z",
            // 6
            "M0,160L30,160C60,160,120,160,180,149.3C240,139,300,117,360,117.3C420,117,480,139,540,154.7C600,171,660,181,720,165.3C780,149,840,107,900,101.3C960,96,1020,128,1080,138.7C1140,149,1200,139,1260,138.7C1320,139,1380,149,1410,154.7L1440,160L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z",
            // 7
            "M0,224L30,234.7C60,245,120,267,180,266.7C240,267,300,245,360,213.3C420,181,480,139,540,122.7C600,107,660,117,720,128C780,139,840,149,900,154.7C960,160,1020,160,1080,149.3C1140,139,1200,117,1260,112C1320,107,1380,117,1410,122.7L1440,128L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"
        ];

        /* apply different shapes to each .wave in document order */
        (function applyWaves() {
            const paths = document.querySelectorAll('.wave path');
            paths.forEach((p, i) => {
                p.setAttribute('d', WAVES[i % WAVES.length]);
                // ensure we always fill with the section color via your existing .wave {...}
                p.removeAttribute('fill');              // use currentColor
            });
        })();

        // Smooth anchor scroll
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', e => {
                const id = a.getAttribute('href');
                if (id.length > 1) {
                    e.preventDefault();
                    document.querySelector(id)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    menu.classList.remove('open'); hamburger.setAttribute('aria-expanded', 'false');
                }
            });
        });

        // Mobile menu
        const hamburger = document.getElementById('hamburger');
        const menu = document.getElementById('menu');
        hamburger.addEventListener('click', () => {
            const open = menu.classList.toggle('open');
            hamburger.setAttribute('aria-expanded', String(open));
        });

        // Share API
        const shareBtn = document.getElementById('shareBtn');
        shareBtn.addEventListener('click', async (e) => {
            e.preventDefault();
            const data = { title: 'People of PDD — Our Punggol Story', text: 'Meet the artists, make an avatar, and bring the mural to life with AR.', url: window.location.href };
            if (navigator.share) { try { await navigator.share(data); } catch (_) { } }
            else { await navigator.clipboard.writeText(data.url); shareBtn.textContent = 'Link copied!'; setTimeout(() => shareBtn.textContent = 'Share link', 1400); }
        });

        // Back to top
        const toTop = document.getElementById('toTop');
        toTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // Footer year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Animated Counters
        (function initCounters() {
            const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const els = document.querySelectorAll('[data-counter]');
            if (!els.length) return;
            function format(n) { return Math.round(n).toLocaleString('en-SG'); }
            function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }
            function animate(el) {
                const target = Number(el.getAttribute('data-target')) || 0;
                const suffix = el.getAttribute('data-suffix') || '';
                if (prefersReduced || target <= 0) { el.textContent = format(target) + suffix; return; }
                const dur = 1200; let start = null;
                function step(ts) {
                    if (!start) start = ts;
                    const t = Math.min(1, (ts - start) / dur);
                    el.textContent = format(target * easeOutCubic(t)) + suffix;
                    if (t < 1) requestAnimationFrame(step);
                }
                requestAnimationFrame(step);
            }
            const grid = document.getElementById('statsGrid') || document.body;
            const isMobile = window.matchMedia('(max-width: 600px)').matches;
            const obs = new IntersectionObserver((entries) => {
                for (const entry of entries) {
                    if (entry.isIntersecting) { els.forEach(animate); obs.disconnect(); break; }
                }
            }, isMobile ? { threshold: 0.85 } : { threshold: 0.3 });
            obs.observe(grid);
        })();

        // Events Carousel (one slide visible)
        const track = document.getElementById('eventsTrack');
        const windowEl = document.getElementById('eventsWindow');
        const prevBtn = document.getElementById('evtPrev');
        const nextBtn = document.getElementById('evtNext');
        const dotsEl = document.getElementById('eventsDots');

        let index = 0;
        const slides = Array.from(track.children);
        const count = slides.length;

        slides.forEach((_, i) => {
            const b = document.createElement('button');
            b.type = 'button';
            b.setAttribute('aria-label', `Go to event ${i + 1}`);
            b.addEventListener('click', () => goTo(i));
            dotsEl.appendChild(b);
        });

        function updateDots() { Array.from(dotsEl.children).forEach((d, i) => d.setAttribute('aria-current', String(i === index))); }
        function viewWidth() { return windowEl.getBoundingClientRect().width; }
        function goTo(i) {
            index = Math.max(0, Math.min(count - 1, i));
            track.scrollTo({ left: index * viewWidth(), behavior: 'smooth' });
            prevBtn.disabled = index === 0; nextBtn.disabled = index === count - 1; updateDots();
        }
        prevBtn.addEventListener('click', () => goTo(index - 1));
        nextBtn.addEventListener('click', () => goTo(index + 1));

        // Keyboard
        document.getElementById('events').addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') { e.preventDefault(); goTo(index + 1); }
            if (e.key === 'ArrowLeft') { e.preventDefault(); goTo(index - 1); }
        });

        // Drag / swipe
        let isDown = false, startX = 0, scrollStart = 0;
        windowEl.addEventListener('pointerdown', (e) => {
            isDown = true; startX = e.clientX; scrollStart = track.scrollLeft; windowEl.setPointerCapture(e.pointerId);
        });
        windowEl.addEventListener('pointermove', (e) => {
            if (!isDown) return;
            const dx = e.clientX - startX; track.scrollLeft = scrollStart - dx;
        });
        function snapToNearest() { goTo(Math.round(track.scrollLeft / viewWidth())); }
        windowEl.addEventListener('pointerup', () => { if (!isDown) return; isDown = false; snapToNearest(); });
        windowEl.addEventListener('pointercancel', () => { isDown = false; });
        window.addEventListener('resize', () => goTo(index));

        // Init → focus next upcoming slide
        goTo(0);
        (function focusUpcoming() {
            const today = new Date();
            let best = 0, bestDiff = Infinity;
            slides.forEach((el, i) => {
                const d = new Date(el.getAttribute('data-when') || '');
                const diff = d - today;
                if (!isNaN(d) && diff >= 0 && diff < bestDiff) { bestDiff = diff; best = i; }
            });
            goTo(best);
        })();


    </script>
    <script>
        (function consentGate() {
            const form = document.getElementById('interestForm');
            if (!form) return;

            const modal = document.getElementById('consentModal');
            const backdrop = document.getElementById('consentBackdrop');
            const btnAgree = document.getElementById('consentAgree');
            const btnClose = document.getElementById('consentClose');

            let userAgreed = false;
            let lastFocused = null;

            function openModal() {
                lastFocused = document.activeElement;
                backdrop.hidden = false;
                modal.hidden = false;
                document.body.style.overflow = 'hidden';
                btnAgree.focus();
            }

            function closeModal() {
                backdrop.hidden = true;
                modal.hidden = true;
                document.body.style.overflow = '';
                if (lastFocused) lastFocused.focus();
            }

            // intercept submit to show consent if needed
            form.addEventListener('submit', (e) => {
                if (!userAgreed) {
                    e.preventDefault();
                    openModal();
                }
            });

            // agree -> mark + resubmit
            btnAgree.addEventListener('click', () => {
                userAgreed = true;
                closeModal();
                // submit programmatically after consent
                form.requestSubmit ? form.requestSubmit() : form.submit();
            });

            // close actions
            btnClose.addEventListener('click', closeModal);
            backdrop.addEventListener('click', closeModal);
            document.addEventListener('keydown', (e) => {
                if (!modal.hidden && e.key === 'Escape') closeModal();
            });
        })();
    </script>
    <script>
        (function initBTS() {
            const win = document.getElementById('btsWindow');
            const track = document.getElementById('btsTrack');
            const prev = document.getElementById('btsPrev');
            const next = document.getElementById('btsNext');
            const dotsEl = document.getElementById('btsDots');
            if (!win || !track) return;

            const slides = Array.from(track.children);
            let index = 0, timer = null, paused = false;
            const interval = 3500, count = slides.length;

            function vw() { return win.getBoundingClientRect().width; }

            function buildDots() {
                dotsEl.innerHTML = '';
                for (let i = 0; i < count; i++) {
                    const b = document.createElement('button');
                    b.type = 'button';
                    b.setAttribute('aria-label', `go to slide ${i + 1}`);
                    b.addEventListener('click', () => goTo(i));
                    dotsEl.appendChild(b);
                }
                updateDots();
            }

            function updateDots() {
                Array.from(dotsEl.children).forEach((d, i) => d.setAttribute('aria-current', String(i === index)));
            }

            function goTo(i, smooth = true) {
                index = Math.max(0, Math.min(count - 1, i));
                track.scrollTo({ left: index * vw(), behavior: smooth ? 'smooth' : 'auto' });
                updateDots();
                if (prev) prev.disabled = (index === 0);
                if (next) next.disabled = (index === count - 1);
            }

            prev?.addEventListener('click', () => goTo(index - 1));
            next?.addEventListener('click', () => goTo(index + 1));
            window.addEventListener('resize', () => goTo(index, false));

            // keyboard when focused within window
            win.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') { e.preventDefault(); goTo(index + 1); }
                if (e.key === 'ArrowLeft') { e.preventDefault(); goTo(index - 1); }
            });

            // drag / swipe
            let down = false, startX = 0, startScroll = 0;
            win.addEventListener('pointerdown', (e) => { down = true; startX = e.clientX; startScroll = track.scrollLeft; paused = true; win.setPointerCapture(e.pointerId); });
            win.addEventListener('pointermove', (e) => { if (!down) return; track.scrollLeft = startScroll - (e.clientX - startX); });
            function snap() { goTo(Math.round(track.scrollLeft / vw())); }
            win.addEventListener('pointerup', () => { if (!down) return; down = false; paused = false; snap(); });
            win.addEventListener('pointercancel', () => { down = false; paused = false; snap(); });

            // auto-advance (pause on hover/focus)
            function start() { stop(); timer = setInterval(() => { if (!paused) goTo((index + 1) % count); }, interval); }
            function stop() { if (timer) { clearInterval(timer); timer = null; } }
            win.addEventListener('mouseenter', () => paused = true);
            win.addEventListener('mouseleave', () => paused = false);
            win.addEventListener('focusin', () => paused = true);
            win.addEventListener('focusout', () => paused = false);

            // start/stop when visible
            const io = new IntersectionObserver((ents) => {
                for (const ent of ents) { ent.isIntersecting ? start() : stop(); }
            }, { threshold: .2 });
            io.observe(win);

            // init
            buildDots();
            goTo(0, false);
        })();
    </script>



</body>

</html>
